<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>오늘의 문장</title>
<style>
body{
    margin:0;
    background:#2a2a2a;
    color:#f5f5f5;
    font-family: 'Pretendard', sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    text-align:center;
    padding:20px;
}
.card{
    max-width:500px;
}
h1{
    font-size:18px;
    opacity:0.6;
}
.quote{
    font-size:26px;
    margin-top:20px;
    line-height:1.5;
}
.footer{
    margin-top:40px;
    font-size:14px;
    opacity:0.4;
}
</style>
</head>
<body>
<div class="card">
<h1>오늘의 문장</h1>
<div class="quote" id="quote"></div>
<div class="footer">Buddha Object · Bilillego</div>
</div>

<script>
function dayOfYearKST(date = new Date()) {
  // 한국시간(KST) 기준으로 '오늘'을 계산
  const kst = new Date(date.toLocaleString("en-US", { timeZone: "Asia/Seoul" }));
  const start = new Date(kst.getFullYear(), 0, 0);
  const diff = kst - start;
  const oneDay = 1000 * 60 * 60 * 24;
  return Math.floor(diff / oneDay); // 1~365(366)
}

async function run() {
  const res = await fetch("./quotes.json", { cache: "no-store" });
  const quotes = await res.json();

  const doy = dayOfYearKST();                 // 1~365(366)
  const index = (doy - 1) % quotes.length;    // quotes 길이에 맞춰 순환
  document.getElementById("quote").innerText = quotes[index];
}

run();
</script>

</body>
</html>
